# 브라우저의 렌더링 과정

### 1. 브라우저의 기본 구조
![브라우저1](https://user-images.githubusercontent.com/58321856/113504318-4f0d1580-9572-11eb-819e-bfd12eb3a20a.png)
- 사용자 인터페이스: 페이지를 보여주는 창을 제외한 나머지 부분
- 브라우저 엔진: 사용자의 인터페이스와 렌더링 엔진 사이의 동작을 제어함
- 렌더링 엔진: 요청한 콘텐츠를 표시함
- 통신: 네트워크 호출에 사용함
- UI 백엔드: 기본 장치를 그린다. 사용자의 OS 인터페이스 체계를 사용함
- 자바스크립트 해석기: 자바스크립트 코드를 실행
- 자료 저장소: 자료를 저장하는 계층이다. (쿠키 등)


### 2. 렌더링 엔진의 동작 과정
![브라우저2](https://user-images.githubusercontent.com/58321856/113504423-f722de80-9572-11eb-8e2c-ae62a6c8c80f.png)
1. HTML 문서를 파싱하여 DOM 트리를 만듭니다.
2. CSS 문서를 파싱하여 CSSOM 트리를 만듭니다.
3. DOM과 CSSOM을 이용하여 렌더 트리를 만듭니다.
4. 렌더 트리가 생성이 되면 레이아웃이 시작됩니다. 각 노드가 화면의 정확한 위치에 표시하기 위해 위치과 크기를 계산합니다.
5. 계산된 위치와 크기 등의 스타일들이 실제 픽셀로 표현이 되는데 이 과정을 페인트라고 합니다.


### 3. 렌더링에 관련된 팁
1. CSS를 HTML 문서 상단에 배치
  HTML 문서를 처리할 때 위에서 아래로 처리가 되기 때문에 CSS를 HTML 문서 상단에 배치하면
  렌더링 엔진이 스타일 정보를 빨리 제공을 받아 렌더 트리를 구성하는 과정에서 유리함
  
  
2. JS를 HTML 문서 하단에 배치
  HTML 파서는 JS 코드를 만나면 파싱이 중단이 되기 때문이다.
  DOM 트리 구성과 렌더 트리 구성을 빨리 진행한 뒤 JS를 처리하는게 좋다.


### 정리
1. 브라우저에서 서버에 요청을 한다.
2. 서버는 필요한 자원을 브라우저에 보낸다.
3. 브라우저는 렌더링 엔진을 사용해서 HTML, CSS 파일을 파싱하여 DOM 트리와 CSSOM 트리를 생성한다.
4. DOM, CSSOM을 합쳐서 렌더 트리를 생성한다. (여기서 JS를 만나면 HTML 파서는 JS 코드를 실행하기 위해 파싱을 중단함)
5. 화면에 그린다.

#### 참고
- https://d2.naver.com/helloworld/59361
- https://dev4us.github.io/2019/10/21/browser-rendering/
- https://velog.io/@st2702/%EB%B8%8C%EB%9D%BC%EC%9A%B0%EC%A0%80%EC%9D%98-%EB%A0%8C%EB%8D%94%EB%A7%81-%EA%B3%BC%EC%A0%95
